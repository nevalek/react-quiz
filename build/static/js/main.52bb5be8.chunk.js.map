{"version":3,"sources":["service/questions-service.js","components/Question/Answers/index.js","components/Question/Answers/Answers.js","components/Question/index.js","components/Question/Question.js","components/Loader/index.js","components/Loader/Loader.js","components/Level/index.js","components/Level/Level.js","components/RightAnswers/index.js","components/RightAnswers/RightAnswers.js","containers/Quiz/Quiz.js","App.js","index.js"],"names":["_apiBase","_proxy","getResource","url","a","async","fetch","res","ok","Error","status","json","getQuestion","lvl","question","data","answers","Answers","props","cls","answer","push","key","index","className","join","onClick","onAnswerClick","id","Question","Fragment","text","map","el","Loader","Level","onLevels","RightAnswers","q","state","good","error","loading","rightAnswer","level","rightAnswers","test","QService","outAnswers","length","pop","unshift","setState","newQuestion","then","shuffle","onAnswerClickHandler","rightIndex","findIndex","item","timeout","window","setInterval","clearInterval","arr","j","temp","i","Math","floor","random","this","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.52bb5be8.chunk.js","sourcesContent":["export default class {\r\n    _apiBase = \"https://engine.lifeis.porn/api/millionaire.php?\";\r\n    _proxy = \"https://cors-anywhere.herokuapp.com/\";\r\n\r\n    getResource = async(url) => {\r\n        const res = await fetch(`${this._proxy}${this._apiBase}${url}`);\r\n        if (!res.ok) {\r\n            throw new Error(`Could not fetch ${url}` +\r\n                `, received ${res.status}`)\r\n        }\r\n        return await res.json();\r\n    };\r\n\r\n    getQuestion = async(lvl) => {\r\n        const question = await this.getResource(`q=${lvl}`);\r\n        return {\r\n            question: question.data.question,\r\n            answers: [...question.data.answers]\r\n        };\r\n    };\r\n}","import Answers from './Answers';\r\nexport default Answers;","import React from 'react';\r\nimport './Answers.css';\r\n\r\nexport default props =>{\r\n    const cls = ['answer'];\r\n\r\n    if(props.answer){\r\n        cls.push(props.answer)\r\n    }\r\n\r\n    return(\r\n            <button\r\n                key={props.index}\r\n                className={cls.join(' ')}\r\n                onClick={()=>props.onAnswerClick(props.id)}\r\n            >\r\n                {props.answers}\r\n            </button>\r\n    )\r\n}","import Question from \"./Question\";\r\nexport default Question;","import React from \"react\";\r\nimport './Question.css';\r\nimport Answers from \"./Answers\";\r\n\r\nexport default props =>{\r\n    const cls = ['question'];\r\n\r\n\r\n\r\n    return(\r\n        <React.Fragment>\r\n        <div className={cls.join(' ')}>\r\n        <h3>\r\n            {props.text}\r\n        </h3>\r\n        </div>\r\n            <div className=\"answers\">\r\n            {props.answers.map((el, index)=>(\r\n            <Answers\r\n                key={index}\r\n                id={index}\r\n                answers={el}\r\n                onAnswerClick={props.onAnswerClick}\r\n                answer={props.answer ? props.answer[index]: null}\r\n            />\r\n            ))}\r\n            </div>\r\n\r\n</React.Fragment>\r\n    )\r\n}","import Loader from './Loader';\r\nexport default Loader;","import React from \"react\";\r\nimport './Loader.css';\r\nexport default () => (\r\n    <div className=\"container\">\r\n        <div className=\"item-1\"/>\r\n        <div className=\"item-2\"/>\r\n        <div className=\"item-3\"/>\r\n        <div className=\"item-4\"/>\r\n        <div className=\"item-5\"/>\r\n    </div>\r\n)","import Level from './Level';\r\nexport default Level;","import React from 'react';\r\nimport './Level.css'\r\n\r\nexport default props => {\r\n    const lvls = ['Лёгкий', 'Средний', 'Сложный', 'Детский'];\r\n    return(\r\n        <div className='level'>\r\n            <ul>\r\n            {lvls.map((el, index)=>{\r\n                return(\r\n                    <li\r\n                        key={index}\r\n                        onClick={()=>props.onLevels(index + 1)}\r\n                    >\r\n                        {el}\r\n                    </li>\r\n                )\r\n            })}\r\n            </ul>\r\n        </div>\r\n    )\r\n}","import RightAnswers from './RightAnswers';\r\nexport default RightAnswers;","import React from 'react';\r\nimport './RightAnswers.css';\r\n\r\nexport default props => {\r\n    return(\r\n        <div className='rightanswers'>\r\n            {props.answers.map((el, index)=>{\r\n                let {q, a} = el;\r\n                return(\r\n                    <div key={index} className='right-answer'>\r\n                        <span>{q}</span>\r\n                        <span>{a}</span>\r\n                    </div>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}","import React, {Component} from 'react';\r\nimport './Quiz.css';\r\nimport QService from '../../service/questions-service';\r\nimport Question from \"../../components/Question\";\r\nimport Loader from \"../../components/Loader\";\r\nimport Level from \"../../components/Level\";\r\nimport RightAnswers from \"../../components/RightAnswers\";\r\n\r\n\r\nexport default class extends Component {\r\n    state = {\r\n        good: 0,\r\n        error: 0,\r\n        question: null,\r\n        answers: [],\r\n        answer: null,\r\n        loading: true,\r\n        rightAnswer: null,\r\n        level: 4,\r\n        rightAnswers: []\r\n    };\r\n    test = new QService();\r\n\r\n    shuffle(arr) {\r\n        let j, temp;\r\n        for (let i = arr.length - 1; i > 0; i--) {\r\n            j = Math.floor(Math.random() * (i + 1));\r\n            temp = arr[j];\r\n            arr[j] = arr[i];\r\n            arr[i] = temp;\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    outAnswers = (q, a) => {\r\n        const answers = this.state.rightAnswers;\r\n      if(answers.length === 5){\r\n          answers.pop();\r\n          answers.unshift({'q':q, 'a': a})\r\n      }else {\r\n          answers.unshift({'q':q, 'a': a})\r\n      }\r\n      this.setState({\r\n          rightAnswers: answers\r\n      });\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.newQuestion();\r\n    }\r\n\r\n    newQuestion =()=>{\r\n        this.test\r\n            .getQuestion(this.state.level)\r\n            .then(data => {\r\n                this.setState({\r\n                    question: data.question,\r\n                    rightAnswer: data.answers[0],\r\n                    answers: this.shuffle(data.answers),\r\n                    answer: null,\r\n                    loading: false\r\n                })\r\n            });\r\n    };\r\n\r\n    onAnswerClickHandler = index =>{\r\n        const rightIndex = this.state.answers.findIndex((item)=> {\r\n            return item === this.state.rightAnswer;\r\n        });\r\n        const timeout = window.setInterval(()=>{\r\n            this.setState({\r\n                loading: true\r\n            });\r\n            this.newQuestion();\r\n            this.outAnswers(this.state.question, this.state.rightAnswer)\r\n            window.clearInterval(timeout);\r\n        }, 1500);\r\n        if(index === rightIndex){\r\n            this.setState({\r\n                answer: {[index]: 'good'},\r\n                good: this.state.good + 1,\r\n            });\r\n        }else {\r\n            this.setState({\r\n                answer: {[index]: 'error'},\r\n                error: this.state.error + 1,\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n    onLevels = lvl => {\r\n        this.setState({\r\n            level: lvl,\r\n            loading: true\r\n        }, ()=>{\r\n            this.newQuestion();\r\n        });\r\n\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n\r\n                <Level\r\n                    onLevels={this.onLevels}\r\n                />\r\n                <div className=\"quiz\">\r\n                {\r\n                    this.state.loading\r\n                    ? <Loader/>\r\n                    : <Question\r\n                            text={this.state.question}\r\n                            answers={this.state.answers}\r\n                            onAnswerClick={this.onAnswerClickHandler}\r\n                            answer={this.state.answer}\r\n                            rightAnswer={this.state.rightAnswer}\r\n                        />\r\n                }\r\n                </div>\r\n                {\r\n                    this.state.rightAnswers.length === 0\r\n                        ? null\r\n                        :\r\n                        <RightAnswers\r\n                            answers={this.state.rightAnswers}\r\n                        />\r\n\r\n\r\n                }\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}","import React,{Component} from 'react';\nimport Quiz from './containers/Quiz/Quiz';\nimport './App.css';\n\nexport default class extends Component{\n\n\n\n    render() {\n        return(\n                <Quiz/>\n        )\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}