(this.webpackJsonpquiz=this.webpackJsonpquiz||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports=n(25)},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(9),i=n.n(s),c=(n(16),n(1)),o=n(3),u=n(5),l=n(4),w=n(6),h=n(7),m=(n(17),n(10)),f=n(2),d=n.n(f),p=function e(){var t=this;Object(c.a)(this,e),this._apiBase="https://engine.lifeis.porn/api/millionaire.php?",this._proxy="https://cors-anywhere.herokuapp.com/",this.getResource=function(e){var n;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.awrap(fetch("".concat(t._proxy).concat(t._apiBase).concat(e)));case 2:if((n=a.sent).ok){a.next=5;break}throw new Error("Could not fetch ".concat(e)+", received ".concat(n.status));case 5:return a.next=7,d.a.awrap(n.json());case 7:return a.abrupt("return",a.sent);case 8:case"end":return a.stop()}}))},this.getQuestion=function(e){var n;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.awrap(t.getResource("q=".concat(e)));case 2:return n=a.sent,a.abrupt("return",{question:n.data.question,answers:Object(m.a)(n.data.answers)});case 4:case"end":return a.stop()}}))}},v=(n(19),n(20),function(e){var t=["answer"];return e.answer&&t.push(e.answer),r.a.createElement("button",{key:e.index,className:t.join(" "),onClick:function(){return e.onAnswerClick(e.id)}},e.answers)}),g=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:["question"].join(" ")},r.a.createElement("h3",null,e.text)),r.a.createElement("div",{className:"answers"},e.answers.map((function(t,n){return r.a.createElement(v,{key:n,id:n,answers:t,onAnswerClick:e.onAnswerClick,answer:e.answer?e.answer[n]:null})}))))},E=(n(21),function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"item-1"}),r.a.createElement("div",{className:"item-2"}),r.a.createElement("div",{className:"item-3"}),r.a.createElement("div",{className:"item-4"}),r.a.createElement("div",{className:"item-5"}))}),k=(n(22),function(e){return r.a.createElement("div",{className:"level"},r.a.createElement("ul",null,["\u041b\u0451\u0433\u043a\u0438\u0439","\u0421\u0440\u0435\u0434\u043d\u0438\u0439","\u0421\u043b\u043e\u0436\u043d\u044b\u0439","\u0414\u0435\u0442\u0441\u043a\u0438\u0439"].map((function(t,n){return r.a.createElement("li",{key:n,onClick:function(){return e.onLevels(n+1)}},t)}))))}),b=(n(23),function(e){return r.a.createElement("div",{className:"rightanswers"},e.answers.map((function(e,t){var n=e.q,a=e.a;return r.a.createElement("div",{key:t,className:"right-answer"},r.a.createElement("span",null,n),r.a.createElement("span",null,a))})))}),A=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={good:0,error:0,question:null,answers:[],answer:null,loading:!0,rightAnswer:null,level:4,rightAnswers:[]},n.test=new p,n.outAnswers=function(e,t){var a=n.state.rightAnswers;5===a.length?(a.pop(),a.unshift({q:e,a:t})):a.unshift({q:e,a:t}),n.setState({rightAnswers:a})},n.newQuestion=function(){n.test.getQuestion(n.state.level).then((function(e){n.setState({question:e.question,rightAnswer:e.answers[0],answers:n.shuffle(e.answers),answer:null,loading:!1})}))},n.onAnswerClickHandler=function(e){var t=n.state.answers.findIndex((function(e){return e===n.state.rightAnswer})),a=window.setInterval((function(){n.setState({loading:!0}),n.newQuestion(),n.outAnswers(n.state.question,n.state.rightAnswer),window.clearInterval(a)}),1500);e===t?n.setState({answer:Object(h.a)({},e,"good"),good:n.state.good+1}):n.setState({answer:Object(h.a)({},e,"error"),error:n.state.error+1})},n.onLevels=function(e){n.setState({level:e,loading:!0},(function(){n.newQuestion()}))},n}return Object(w.a)(t,e),Object(o.a)(t,[{key:"shuffle",value:function(e){for(var t,n,a=e.length-1;a>0;a--)n=e[t=Math.floor(Math.random()*(a+1))],e[t]=e[a],e[a]=n;return e}},{key:"componentDidMount",value:function(){this.newQuestion()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{onLevels:this.onLevels}),r.a.createElement("div",{className:"quiz"},this.state.loading?r.a.createElement(E,null):r.a.createElement(g,{text:this.state.question,answers:this.state.answers,onAnswerClick:this.onAnswerClickHandler,answer:this.state.answer,rightAnswer:this.state.rightAnswer})),0===this.state.rightAnswers.length?null:r.a.createElement(b,{answers:this.state.rightAnswers}))}}]),t}(a.Component),j=(n(24),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(A,null)}}]),t}(a.Component));i.a.render(r.a.createElement(j,null),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.52bb5be8.chunk.js.map